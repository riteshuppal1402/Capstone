<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Traffic Prediction</title>
    <link rel="stylesheet" href="https://{{'cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css'}}">
    <link href="https://{{'fonts.googleapis.com/css?family=Comfortaa:700'}}" rel="stylesheet">
    <script src="https://{{'code.jquery.com/jquery-3.3.1.min.js'}}"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script>
        function getOption() {
            var obj = document.getElementById("select-month");
            var obj2 = document.getElementById("select-day");
            // var obj3 = document.getElementById("select-month");

            document.getElementById("demo").innerHTML =
                obj.options[obj.selectedIndex].text;
            document.getElementById("demo1").innerHTML =
                obj2.options[obj2.selectedIndex].text;
            //saturday 0 hai



            let d = parseInt(obj2.options[obj2.selectedIndex].text);

            let m = parseInt(obj2.options[obj2.selectedIndex].text);
            let y = 2022;

            let t = [0, 3, 2, 5, 0, 3, 5, 1, 4, 6, 2, 4];
            y -= (m < 3) ? 1 : 0;
            let day = (y + y / 4 - y / 100 + y / 400 + t[m - 1] + d) % 7;



            // var x = document.createElement("IMG");
            // x.setAttribute("src", "cnn.png");
            // x.setAttribute("width", "304");
            // x.setAttribute("height", "228");
            // x.setAttribute("alt", "The Pulpit Rock");
            // document.body.appendChild(x);
            document.getElementById("imgg").src = "download.png";


        }
    </script>

    <link rel="stylesheet" href="https://{{'use.fontawesome.com/releases/v5.7.1/css/all.css'}}"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link rel="stylesheet" type= "text/css" href="{{url_for('static',filename='index.css') }}" >
</head>

<body>
    <div id="loading">
        <div id="spinner"></div>
    </div>
    <div id="particles-js"></div>
    <div id="box">
        <div class="box1 onlywide animated bounceOutLeft" style="animation-delay:1.7s;"></div>
        <div class="box2 onlywide animated bounceOutLeft" style="animation-delay:1.8s;"></div>
        <div class="box2 onlywide animated bounceOutLeft" style="animation-delay:1.9s;"></div>
        <div class="box2 animated bounceOutRight" style="animation-delay:1.9s;"></div>
        <div class="box2 onlywide animated bounceOutRight" style="animation-delay:1.8s;"></div>
        <div class="box2 onlywide animated bounceOutRight" style="animation-delay:1.7s;"></div>
    </div>
    <a id="about" onclick="showabout()" class="animated fadeIn" style="animation-delay:2.2s;">Predict Traffic</a>
    <a id="work" onclick="showwork()" class="animated fadeIn" style="animation-delay:2.2s;">Project decription </a>
    <a id="contact" onclick="showcontact()" class="animated fadeIn" style="animation-delay:2.2s;">About us</a>
    <div id="middle" class="animated slideInDown" style="animation-delay:2.0s;">
        <h1>Traffic Prediction</h1>
        <h2>Capstone Project</h2>
        <div id="menu">
            <a onclick="showabout()">about</a>
            <a onclick="showwork()">work</a>
            <a onclick="showcontact()">contact</a>
        </div>
        <!--  <table>
                <tr>
                    <td class="animated zoomIn" style="animation-delay:2.2s;"><a class="social"><i class="fab fa-facebook"></i></a></td>
                    <td class="animated zoomIn" style="animation-delay:2.4s;"><a class="social"><i class="fab fa-twitter"></i></a></td>
                    <td class="animated zoomIn" style="animation-delay:2.6s;"><a class="social"><i class="fab fa-instagram"></i></a></td>
                    <td class="animated zoomIn" style="animation-delay:2.8s;"><a class="social"><i class="fab fa-dribbble"></i></a></td>
                </tr>
        </table> -->
    </div>
    <div id="work_container" class="container" >
        <div onclick="closework()"><i class="fas fa-angle-right"></i></div>
        <h1>Project Description</h1>
        <section >
            <button class="btn_two">Traffic Prediction</button>
            <p>
                To perform long-term traffic prediction based on historical traffic data using Deep Learning
                techniques in major metropolitan areas of the State of California, USA

            </p>
            <!-- <div id="used">
                <div><i class="fas fa-circle"></i>&nbsp;HTML5</div>
                <div><i class="fas fa-circle"></i>&nbsp;CSS3</div>
                <div><i class="fas fa-circle"></i>&nbsp;Javascript</div>
            </div> -->

            <button class="btn_two">Dataset</button>
            <p>
                PeMS provides over ten years of data for historical analysis with a wide variety of information from
                Caltrans (California Department of Transportation) and other local agency systems.
                We have used Station-5 Minute data for district 5 for the month of March, 2021.



            </p>

            <button class="btn_two">Model</button>
            <p>
              We propose a ten stream multi-channel convolutional neural network with single layer for multi-lane traffic speed prediction with the consideration of traffic volume impact. We design a CNN architecture with single streams, where each channel input takes total flow of their respective sensors. Convolutional layers learn the matrices to capture traffic flow features in two dimensions.Then, the output tensors of the ten streams will be flattened and concatenated into one speed-volume vector, and this vector will be learned by the fully connected (FC) layers. The proposed model is validated using loop detector data on a major freeway in the California area. The comprehensive comparisons and analyses demonstrate the strength and effectiveness of our model.
            </p>
            <img src="static/cnn.png"></img>
        </section>
    </div>
    <div id="about_container" class="container" >
        
        <div onclick="closeabout()"><i class="fas fa-angle-left"></i></div>
        <h1>Using Multi channel CNN Model</h1>
        <section>
            <h2>Get accurate Traffic flow of a day </h2>
            <p>
                Right now our model is trained on California's dataset.So please enter date to get traffic flow.
                Please input date and city name of California.
                Graph shown shows Traffic flow where y-axis signifies congestion and x-axis signifies time of the day. Dip in the slope shows the preferred time to travel to avoid  jams.   
            </p>

            <form method="POST" action="/predict">
                <input type="date" name="date" required />
                 <select id="city" name="city">
                    <option value="Caramel">Location</option>
                    <option value="Caramel">CARAMEL RIV BRIDGE</option>
                 </select>
                <input type="submit" value="Submit" />
            </form>
            <!-- <p id="demo"></p>
            <p id="demo1"></p>
            <p id="demo2">day</p>
            <div id="display_here"></div>
            <img id="imgg"> -->
            <div class="myresult" width="600" height="400">
                {{ ans | safe }}
            </div>
        </section>

    </div>
    <div id="contact_container" class="container">
        <div onclick="closecontact()"><i class="fas fa-angle-down"></i></div>
        <h1>About Us.</h1>
        <section>

            <img class="center"
            src="{{ url_for('static',filename='us.png')}}"
            style=" display: block;
margin-left: auto;
margin-right: auto;"/>
        </section>
    </div>
    <div id="footer">
        made on earth by a human <br> <a href="https://imfunniee.github.io">imfunniee</a>
    </div>
    <script src="{{url_for('static',filename='index.js')}}", type="text/javascript"></script>
    <script src="{{url_for('static',filename='particles.js')}}",type="text/javascript"></script>
    <script src="{{url_for('static',filename='app.js')}}",type=text/javascript></script>

</body>

</html>